lsmod | grep -e overlay -e br_netfilter
sudo modprobe overlay
sudo modprobe br_netfilter
lsmod | grep -e overlay -e br_netfilter
sudo  vi /etc/modules-load.d/kubernetes.conf
sudo apt-get update; sudo apt-get install vim curl -y
sudo  vi /etc/modules-load.d/kubernetes.conf
sysctl -a | grep -e ip_forward -e bridge-nf-call 
sudo vi /etc/sysctl.d/kubernetes.conf
sudo sysctl --system 
sysctl -a | grep -e ip_forward -e bridge-nf-call 
swapon -s
sudo swapoff -a
swapon -s
sudo vi /etc/fstab 
sudo apt-get install containerd -y
sudo kill -9 4264; sudo apt-get install containerd -y
systemctl statsu containerd
systemctl status containerd
mkdir -p /etc/containerd 
sudo mkdir -p /etc/containerd 
sudo containerd config default | sudo tee /etc/containerd/config.toml 
vi /etc/containerd/config.toml
sudo vi /etc/containerd/config.toml
sudo systemctl restart containerd
echo "deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.34/deb/ /" | sudo tee /etc/apt/sources.list.d/kubernetes.list
curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.34/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
sudo apt-get update
sudo apt cache madison kubeadm
sudo apt-cache madison kubeadm
sudo apt-get install kubeadm=1.34.2-1.1 kubectl=1.34.2-1.1 kubelet=1.34.2-1.1 -y
sudo apt-mark hold kubelet kubectl kubeadm 
sudo kubeadm init --help
sudo kubeadm init --pod-network-cidr 192.168.0.0/16
mkdir -p $HOME/.kube
ls -la 
kubectl get nodes
kubectl get po -A
CILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/main/stable.txt)
CLI_ARCH=amd64
if [ "$(uname -m)" = "aarch64" ]; then CLI_ARCH=arm64; fi
curl -L --fail --remote-name-all https://github.com/cilium/cilium-cli/releases/download/${CILIUM_CLI_VERSION}/cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}
sha256sum --check cilium-linux-${CLI_ARCH}.tar.gz.sha256sum
sudo tar xzvfC cilium-linux-${CLI_ARCH}.tar.gz /usr/local/bin
rm cilium-linux-${CLI_ARCH}.tar.gz{,.sha256sum}
cilium install 
watch -n1 kubectl get po -A
kubectl get node
sudo kubeadm token create --print-join-command 
kubectl get nodes
watch -n1 kubectl get po -A
kubectl get node
watch -n1 kubectl get po -A
kubectl get node
kubectl describe node k8s-master
kubectl get node --show-labels
kubectl label node worker01 node-role.kubernetes.io/worker=
kubectl label node worker02 node-role.kubernetes.io/worker=
kubectl get node
kubectl get po -A
sudo apt-get install bash-completion
echo 'source <(kubectl completion bash)' >>~/.bashrc
source .bashrc 
kubectl get namespaces 
kubectl run test-pod --image nginx
kubectl get po 
kubectl get po -n default 
kubectl run test-pod --image nginx -n kube-system 
kubectl get po --all-namespaces  
kubectl api-resources 
kubectl api-resources | grep true | wc -l
kubectl api-resources | grep false | wc -l
vi test-pod.yaml 
mv test-pod.yaml nginx-pod.yaml 
vi nginx-pod.yaml 
kubectl apply -f nginx-pod.yaml 
kubectl run test-pod --image nginx --dry-run=client -o yaml 
kubectl run test-pod --image nginx --dry-run=client -o yaml > test-pod.yaml 
vi test-pod.yaml
kubectl apply -f test-pod.yaml 
kubectl get po
kubectl get po --show-labels 
vi test-pod.yaml 
kubectl apply -f test-pod.yaml 
kubectl get po --show-labels 
kubectl create -f test-pod.yaml 
kubectl get po --show-labels -o wide 
kubectl get po nginx-pod 
kubectl get po nginx-pod -o yaml
kubectl get po nginx-pod -o json
kubectl get po --show-labels 
kubectl run web --image httpd 
kubectl get po --show-labels 
kubectl get po --show-labels --selector app
kubectl get po --show-labels --selector run
kubectl get po --show-labels --selector run=web
kubectl get po -n kube-system 
kubectl get po -n kube-system  --show-labels 
kubectl get po -n kube-system  --show-labels -l tier
kubectl get po -n kube-system  --show-labels -l 'tier in(control-plane)' 
kubectl get po -n kube-system  --show-labels -l 'tier in(control-plane),component notin(etcd)' 
kubectl get po -n kube-system  --show-labels -l 'tier in(control-plane,anotherlabelvalue),component notin(etcd)' 
kubectl get po -A 
kubectl get po -A --sort-by .spec.name 
kubectl get po -A --sort-by .metadata.name 
kubectl get po -A --sort-by .metadata.namespace 
kubectl get po -A --sort-by .spec.nodeName 
kubectl get po -A --sort-by .spec.nodeName  -o wide
kubectl describe pod test-pod 
kubectl exec -it test-pod -- hostname 
kubectl exec -it test-pod -- uptime
kubectl exec -it test-pod -- ls -la 
kubectl exec -it test-pod -- bash 
kubectl get po
kubectl run ubuntu-pod --image ubuntu 
kubectl get po
watch -n1 kubectl get po
kubectl run ubuntu-pod --image ubuntu --dry-run=client -o yaml > ubuntu-pod.yaml
vi ubuntu-pod.yaml
kubectl apply -f ubuntu-pod.yaml
kubectl replace --force -f ubuntu-pod.yaml 
watch -n1 kubectl get po
kubectl exec -it ubuntu-pod -- bash
sleep 60
bskbdfsdfd
kubectl get po 
kubectl get po -o wide
kubectl port-forward pod/nginx-pod 8080:80
kubectl port-forward pod/web 8080:80
kubectl delete po -l run 
kubectl apply -f nginx-pod.yaml 
kubectl apply -f test-pod.yaml 
ls -la
kubectl apply -f ubuntu-pod.yaml
kubectl logs nginx-pod 
kubectl logs test-pod 
cp nginx-pod.yaml multi-container-pod.yaml
vi multi-container-pod.yaml
kubectl apply -f multi-container-pod.yaml
kubectl get po 
watch -n1 kubectl get po 
kubectl logs multi-container-pod 
kubectl logs multi-container-pod -c nginx
kubectl logs multi-container-pod -c web
kubectl logs multi-container-pod --all-containers  
vi multi-container-pod.yaml 
kubectl replace --force -f multi-container-pod.yaml
watch -n1 kubectl get po 
vi sidecar-pod.yaml
kubectl apply -f sidecar-pod.yaml 
watch -n1 kubectl get po 
kubectl logs sidecar-pod -c busybox1 
kubectl logs sidecar-pod --all-containers 
kubectl logs sidecar-pod --all-containers -f 
kubectl exec -it sidecar-pod -c busybox1
kubectl exec -it sidecar-pod -c busybox1 -- sh
kubectl logs sidecar-pod --all-containers 
vi init-example-pod.yaml
kubectl apply -f init-example-pod.yaml
watch -n1 kubectl get po
cp -rp init-example-pod.yaml init-pod.yaml
vi init-pod.yaml
kubectl logs init-exampl-pod 
kubectl logs init-exampl-pod --all-containers 
kubectl apply -f init-pod.yaml 
vi init-pod.yaml
kubectl apply -f init-pod.yaml 
watch -n1 kubectl get po
kubectl get po -o wide
kubectl port-forward pods/init-pod 8080:80
kubectl exec -it init-pod -- bash 
kubectl port-forward pods/init-pod 8080:80
kubectl replace --force -f init-pod.yaml 
kubectl get po -o wide
kubectl port-forward pods/init-pod 8080:80
kubectl replace --force -f init-pod.yaml 
kubectl get po -o wide
kubectl port-forward pods/init-pod 8080:80
c
kubectl config current-context 
kubectl config get-contexts 
vi .kube/config 
openssl genrsa -out devops.key 
ls -la 
openssl req -new -key devops.key -out devops,csr -subj "/CN=devops"
ls -la
mv devops,csr devops.csr
ls -la 
cat devops.csr 
cat devops.csr | base64 | tr -d '\n'
vi user-request-devops.yaml
kubectl apply -f user-request-devops.yaml
kubectl get certificatesigningrequests.certificates.k8s.io 
kubectl certificate approve user-request-devops 
kubectl get certificatesigningrequests.certificates.k8s.io 
kubectl get certificatesigningrequests.certificates.k8s.io user-request-devops -o yaml 
kubectl get certificatesigningrequests.certificates.k8s.io user-request-devops -o json 
kubectl get certificatesigningrequests.certificates.k8s.io user-request-devops -o jsonpath '{.status.certificate}'
kubectl get certificatesigningrequests.certificates.k8s.io user-request-devops -o jsonpath='{.status.certificate}'
kubectl get certificatesigningrequests.certificates.k8s.io user-request-devops -o jsonpath='{.status.certificate}' | base64 -d > devops.crt
vi devops.crt 
kubectl --kubeconfig devops-config config set-cluster lxk-test --server https://192.168.1.100:6443 --insecure-skip-tls-verify true 
kubectl --kubeconfig devops-config config set-cluster lxk-test --server https://192.168.1.100:6443 --insecure-skip-tls-verify=true 
vi devops-config 
kubectl --kubeconfig devops-config config set-credentials devops --client-certificate=devops.crt --client-key=devops.key 
vi devops-config 
kubectl --kubeconfig devops-config config set-credentials devops --client-certificate=devops.crt --client-key=devops.key --embed-certs 
vi devops-config 
kubectl --kubeconfig devops-config config set-context devops-context --cluster lxk-test --user=devops
kubectl --kubeconfig devops-config config use-context devops-context
vi devops-config 
sudo useradd -m -s /bin/bash devops 
sudo passwd devops
cp -rp devops-config /home/devops/
sudo mkdir /home/devops/.kube; cp -rp devops-config /home/devops/.kube/config
sudo mkdir /home/devops/.kube; sudo cp -rp devops-config /home/devops/.kube/config
sudo ld -la /home/devops/.kube/config
sudo ls -la /home/devops/.kube/config
sudo chown -R devops:devop /home/devops/.kube
sudo chown -R devops:devops /home/devops/.kube
sudo ls -la /home/devops/.kube/config
kubectl create ns devops-apps
kubectl create role devops-role -n devops-apps --help 
kubectl create role devops-role -n devops-apps --verb=get,list,watch --resource=pods,deployments
kubectl get po 
kubectl get po -o yaml 
kubectl get po -w
watch -n1 kubectl get po
kubectl create -n devops-apps rolebinding devops-rolebinding --help 
kubectl create -n devops-apps rolebinding devops-rolebinding --role devops-role --user=devops
kubectl describe -n devops-apps role devops-role 
kubectl describe -n devops-apps rolebindings.rbac.authorization.k8s.io devops-rolebinding 
sudo -i
kubectl edit role -n devops-apps 
sudo -i
kubectl get po -v 8
kubectl get po -v 10
curl -v -XGET  -H "Accept: application/json;as=Table;v=v1;g=meta.k8s.io,application/json;as=Table;v=v1beta1;g=meta.k8s.io,application/json" -H "User-Agent: kubectl/v1.34.2 (linux/amd64) kubernetes/8cc511e" 'https://192.168.1.100:6443/api/v1/namespaces/default/pods?limit=500'
curl -k -v -XGET  -H "Accept: application/json;as=Table;v=v1;g=meta.k8s.io,application/json;as=Table;v=v1beta1;g=meta.k8s.io,application/json" -H "User-Agent: kubectl/v1.34.2 (linux/amd64) kubernetes/8cc511e" 'https://192.168.1.100:6443/api/v1/namespaces/default/pods?limit=500'
curl -k -v -XGET  'https://192.168.1.100:6443/api/v1/namespaces/default/pods?limit=500'
curl -k -v -XGET --cert devops.crt --key devops.key 'https://192.168.1.100:6443/api/v1/namespaces/devops-apps/pods?limit=500'
curl -k -v -XGET --cert devops.crt --key devops.key 'https://192.168.1.100:6443/api/v1/namespaces/ddefault/pods?limit=500'
sudo -i 
kubectl get po --show-labels 
kubectl label pod init-pod label1=value1 
kubectl get po --show-labels 
kubectl label pod init-pod label2=value2 
kubectl get po --show-labels 
kubectl label pod init-pod label1- 
kubectl get po --show-labels 
kubectl annotate pod init-pod description="to jest moj init pod z kopiowaniem index.html z githuba"
kubectl describe pod init-pod |head 
kubectl annotate pod init-pod applicationZone="US EAST 2" 
kubectl describe pod init-pod |head 
kubectl annotate po init-pod applicationZone-
kubectl describe pod init-pod |head 
git clone https://github.com/mariano-italiano/lxk-Dec.git
sudo apt-get install git -y ; git clone https://github.com/mariano-italiano/lxk-Dec.git
cd lxk-Dec/
mkdir day1
ls -la 
git branch
cd day1/
mv ../../*.yaml .
ls -la
cd
ls -la
cd -la
cd lxk-Dec/day1/
ls -la
cd ..
history
history | awk '$1 > 5' | cut -c 8- 
history | awk '$1 > 5' | cut -c 8- > day1-history.txt
